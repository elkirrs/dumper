import{_ as i}from"./RestoreDatabase-D1GBujTy.js";import{_ as p}from"./YamlViewer-EYd3OhGe.js";import{_ as m}from"./List-9IzYe8wZ.js";import{_ as c}from"./Chip-r3g9xEU9.js";import{_ as f,c as b,a as e,t as r,b as s,w as y,F as v,o as _,d as n}from"./index-D3bEWYKG.js";import{V as k}from"./VAlert-D8DYbunK.js";import"./VSlideGroup-CkGCFVJU.js";const g={components:{RestoreDatabase:i},data(){return{driver:"dynamodb",database:"Amazon DynamoDB",utility:["aws"],snackbar:!1,configKeys:[{key:"title",value:"Human-readable database name",type:"string",required:!1,info:{text:"",link:""}},{key:"name",value:"Database name (DynamoDB table name)",type:"string",required:!0,info:{text:"",link:""}},{key:"server",value:"The link to the server from the servers section list",type:"string",required:!0,info:{text:"",link:""}},{key:"driver",value:"Driver database",type:"string",required:!0,info:{text:"",link:""}},{key:"format",value:"Database dump format",type:"string",required:!0,info:{text:'Format list: "json"',link:""}},{key:"archive",value:"Archiving a backup file",type:"boolean",required:!1,info:{text:"",link:""}},{key:"remove_dump",value:"Remove dump file after created (default true)",type:"boolean",required:!1,info:{text:"",link:""}},{key:"storages",value:"Storage list when the dump need to upload",type:"array",required:!0,info:{text:"(Not required if storage set up in global setting)",link:""}},{key:"encrypt",value:"Encrypt database",type:"object",required:!1,info:{text:"",link:"#/crypt/database"}},{key:"shell",value:"Run shell scrypt",type:"object",required:!1,info:{text:"",link:"#/shell"}},{key:"docker",value:"Create dump in docker",type:"object",required:!1,info:{text:"",link:"#/docker"}},{key:"options",value:"Additional options for the database",type:"object",required:!1,info:{text:"",link:""},sub:[{key:"source",value:"Full path to dump util",type:"string",required:!1},{key:"region",value:"AWS region",type:"string",required:!1},{key:"profile",value:"AWS profile name",type:"string",required:!1},{key:"endpoint",value:"Custom endpoint (for local DynamoDB)",type:"string",required:!1}]},{key:"dir_remote",value:"Dir remote for dumps",type:"string",required:!1,info:{text:'default value from global settings (if the default value is not set, then "./" is used.)',link:""}}],yamlConfig:[],restoreDatabase:[{title:"Use this command to restore database (need prepare dump file for right format). You can use run scrypt after dump for prepare file dump to right format",value:"$ aws dynamodb batch-write-item  --request-items file:///root/dump/dynamo_Users_2026_01_02.json  --endpoint-url http://localhost:8000"},{title:"Use this command to restore database (cloud)",value:"$ aws dynamodb restore-table-from-backup  --target-table-name UsersRestored  --backup-arn arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Users/backup/xxxxxxxxxx"}]}},computed:{configBase(){return{title:"My Neo4j DB",name:"neo4j",driver:this.driver,server:"srv-neo4j",format:"dump",storages:["sftp","local"],remove_dump:!0}}},mounted(){this.yamlConfig=[{title:"Default",value:{databases:{neo4j_db:{...this.configBase}}}},{title:"archive",value:{databases:{neo4j_db:{...this.configBase,archive:!0}}}},{title:"docker",value:{databases:{neo4j_db:{...this.configBase,docker:{enabled:!0,command:"docker compose --file /var/www/docker-compose.yaml exec -T neo4j"}}}}},{title:"shell",value:{databases:{neo4j_db:{...this.configBase,shell:{enabled:!0,after:"sudo systemctl start neo4j",before:"sudo systemctl stop neo4j"}}}}},{title:"encrypt",value:{databases:{neo4j_db:{...this.configBase,encrypt:{enabled:!0,type:"aes",password:"123456"}}}}},{title:"All",value:{databases:{neo4j_db:{...this.configBase,archive:!0,docker:{enabled:!0,command:"docker compose --file /var/www/docker-compose.yaml exec -T neo4j"},shell:{enabled:!0,after:"sudo systemctl start neo4j",before:"sudo systemctl stop neo4j"},encrypt:{enabled:!0,type:"aes",password:"123456"}}}}},{title:"disabled",value:{databases:{neo4j_db:{...this.configBase,archive:!1,docker:{enabled:!1},shell:{enabled:!1},encrypt:{enabled:!1}}}}}]}},h={class:"pb-5"},x={class:"pb-5"},j={class:"pb-5"},q={class:"pb-5"},D={class:"pb-5"};function w(B,a,C,A,t,N){const o=c,l=m,d=p,u=i;return _(),b(v,null,[e("div",h,[e("h2",null,r(t.database),1)]),e("div",x,[s(k,{border:"start",variant:"text",density:"compact"},{default:y(()=>[e("p",null,[a[0]||(a[0]=n(" Dumper uses ",-1)),s(o,{items:t.utility},null,8,["items"]),n(" utility to backup "+r(t.database)+" database. ",1)]),a[1]||(a[1]=e("p",null,"The first step is to install the utility to create a database dump for your env.",-1))]),_:1})]),e("div",j,[a[2]||(a[2]=e("h2",null,"Config keys",-1)),s(o,{items:["driver: "+t.driver]},null,8,["items"]),s(l,{items:t.configKeys},null,8,["items"])]),e("div",q,[s(d,{configObject:t.yamlConfig},null,8,["configObject"])]),e("div",D,[s(u,{items:t.restoreDatabase},null,8,["items"])])],64)}const E=f(g,[["render",w]]);export{E as default};

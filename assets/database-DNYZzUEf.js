import{_ as a}from"./RestoreDatabase-Dtdq3V4o.js";import{_ as l}from"./YamlViewer-BVwDDjsA.js";import{_ as c}from"./List-CL3O5ZGg.js";import{_ as d}from"./Chip-VtuX9YGP.js";import{_ as u,c as m,a as e,b as s,w as y,F as _,o as f,d as b}from"./index-BXqRNOX9.js";import{V as g}from"./VAlert-7ozakv1q.js";import"./VSlideGroup-DiV6KeEd.js";const v={components:{RestoreDatabase:a},data(){return{typeKey:["encrypt"],snackbar:!1,configKeys:[{key:"enabled",value:"Using creating a backup with docker",type:"boolean",required:!1,info:{text:"",link:""}},{key:"type",value:"Type encrypting",type:"string",required:!0,info:{text:'Type: "aes"',link:""}},{key:"password",value:"Password for  encrypting",type:"string",required:!0,info:{text:"",link:""}}],yamlConfig:[],decryptDatabase:[{title:"",value:"The file can be decrypted either via dumper or an encryption utility."},{title:"Decrypt command in dumper",value:"$ ./dumper --crypt backup --mode decrypt --input ./dump.sql.gz.enc"},{title:"Decrypt command in openssl",value:"$ openssl enc -d -aes-256-cbc -pbkdf2 -iter 100000 -in dump.sql.gz.enc -out dump.sql.gz -k 123456"},{title:"Dump can encrypt after dumping in dumper. Use encrypt command in dumper",value:"$ openssl enc -d -aes-256-cbc -pbkdf2 -iter 100000 -in dump.sql.gz.enc -out dump.sql.gz -k 123456"}]}},computed:{configBase(){return{encrypt:{enable:!0,type:"aes",password:"123456a"}}}},mounted(){this.yamlConfig=[{title:"global",value:{settings:{...this.configBase}}},{title:"database",value:{databases:{db_one:{title:"My DB PSQL #1",name:"mydb",user:"myuser",password:"mypassword",port:5432,driver:"psql",server:"srv-psql",format:"plain",storages:["sftp"],remove_dump:!0,...this.configBase}}}}]}},k={class:"pb-5"},h={class:"pb-5"},q={class:"pb-5"},x={class:"pb-5"};function w(D,t,B,C,n,V){const o=d,r=c,i=l,p=a;return f(),m(_,null,[t[2]||(t[2]=e("div",{class:"pb-5"},[e("h2",null,"Encrypt database")],-1)),e("div",k,[s(g,{border:"start",variant:"text",density:"compact"},{default:y(()=>[t[0]||(t[0]=b(" This encrypt configuration can be used in several locations. Priority in the global -> database parameters. If the global setting is set and you do not need to use script execution for one of the databases, you need to set ",-1)),s(o,{items:["encrypt.enabled = false"]})]),_:1})]),e("div",h,[t[1]||(t[1]=e("h2",null,"Config keys",-1)),s(o,{items:n.typeKey},null,8,["items"]),s(r,{items:n.configKeys},null,8,["items"])]),e("div",q,[s(i,{configObject:n.yamlConfig},null,8,["configObject"])]),e("div",x,[s(p,{items:n.decryptDatabase,title:"Crypt database"},null,8,["items"])])],64)}const E=u(v,[["render",w]]);export{E as default};
